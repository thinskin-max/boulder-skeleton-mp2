/* ==========================================================
   ðŸŽ¬ Stranger Things â€” Theme
   ========================================================== */

:root {
  --bg: #050505;
  --card: #0d0d0f;
  --line: #2a2a33;
  --ink: #e6e6e6;
  --muted: #7a8a9e;
  --accent: #d1000f;
  --accent-glow: #ff003c;
  --cyber: #0affff;
  --side-w: 320px;
}

/* Reset */
* { box-sizing: border-box; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  overflow-x: hidden;
}

/* VHS overlay */
body::before {
  content:"";
  position:fixed; inset:0;
  background:repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.04) 0px,
    rgba(255,255,255,0.04) 1px,
    rgba(0,0,0,0.04) 2px
  );
  pointer-events:none;
  opacity:.18;
  z-index:999;
}
body::after {
  content:"";
  position:fixed; inset:0;
  background-image:url('https://grainy-gradients.vercel.app/noise.svg');
  background-size:300px;
  opacity:.08;
  pointer-events:none;
  z-index:998;
}

/* Header */
header {
  padding: 12px;
  display:flex;
  align-items:center;
  gap:12px;
  border-bottom:1px solid var(--accent);
  background:#0b0b0c;
}
header strong {
  color:var(--accent);
  text-shadow:0 0 6px var(--accent-glow);
}
.badge { font-size:12px; color:var(--cyber); }

/* KPI */
.kpi { display:flex; gap:12px; font-size:12px; color:var(--muted); }
progress { height:10px; accent-color:var(--cyber); }

/* Layout */
.layout {
  display:grid;
  grid-template-columns: 1fr var(--side-w);
  gap:16px;
  padding:16px;
}

/* Panels */
section, aside {
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  overflow:hidden;
}
.pane-head {
  padding:10px 14px;
  border-bottom:1px solid var(--line);
  background:#0f0f12;
  color:var(--accent);
  font-weight:600;
  display:flex;
  justify-content:space-between;
}
.pane-body { padding:12px; }

.row {
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:10px;
}

/* Buttons */
button, select, input[type=text], input[type=file] {
  background:#16161a;
  border:1px solid var(--line);
  color:var(--ink);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  font-size:13px;
}
button:hover, select:hover {
  background:#1e1e23;
  border-color:var(--accent);
  color:var(--accent);
  text-shadow:0 0 4px var(--accent-glow);
}

/* Upload file button */
.fileBtn {
  position:relative;
  display:flex;
  align-items:center;
  padding:0 12px;
  height:34px;
  border-radius:10px;
}
.fileBtn input[type=file] {
  position:absolute;
  inset:0;
  opacity:0;
}

/* Media */
video, canvas {
  max-width:100%;
  display:block;
  border-radius:10px;
  background:#000;
  border:1px solid var(--line);
}

.media-grid {
  display:grid;
  gap:10px;
}

.portrait .media-grid {
  grid-template-columns:1fr 1fr;
}
.landscape .media-grid {
  grid-template-columns:1fr;
}

/* Log */
.log {
  background:#0f0f12;
  color:var(--cyber);
  font-family:ui-monospace, Menlo, Consolas;
  font-size:12px;
  border:1px solid var(--line);
  border-radius:6px;
  padding:8px;
  height:300px;
  overflow:auto;
  white-space:pre-wrap;
}

.ok { color:#3cffc7 !important; }
.warn { color:#ffd37a !important; }
.err { color:#ff4d4d !important; }

/* Mobile */
@media (max-width: 900px) {
  .layout { grid-template-columns:1fr; }
  aside { order:2; }
}

/* Fake iOS fullscreen */
body.ios-fullscreen {
  position:fixed;
  inset:0;
  background:#000;
  overflow:hidden;
}
body.ios-fullscreen video,
body.ios-fullscreen canvas {
  width:100vw !important;
  height:100vh !important;
  object-fit:contain;
}

#fsExitBtn {
  position:fixed;
  right:12px; top:12px;
  z-index:9999;
  display:none;
  padding:10px 12px;
  background:#1a1d24;
  color:white;
  border:1px solid #2a2f3a;
  border-radius:10px;
}
body.ios-fullscreen #fsExitBtn { display:block; }
